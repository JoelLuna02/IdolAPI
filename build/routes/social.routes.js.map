{"version":3,"file":"social.routes.js","names":["_express","require","_database","_interopRequireDefault","_SocialNetwork","_mongoose","social_routes","Router","get","req","res","connectDB","social_networks","SocialNetWork","find","select","populate","status","json","snid","params","isObjectIdOrHexString","message","social_network","findById","error","console","_default","exports","default"],"sources":["../../source/routes/social.routes.js"],"sourcesContent":["import { Router } from \"express\";\nimport connectDB from \"../database\";\nimport SocialNetWork from \"../models/SocialNetwork\";\nimport { isObjectIdOrHexString } from \"mongoose\";\n\nconst social_routes = Router();\n\nsocial_routes.get(\"/\", async (req, res) => {\n\tawait connectDB();\n\tconst social_networks = await SocialNetWork.find()\n\t\t.select(\"-__v\")\n\t\t.populate(\"vtuber\", \"-_id fullname branch unit\");\n\treturn res.status(200).json(social_networks);\n});\n\nsocial_routes.get(\"/:snid\", async (req, res) => {\n\tconst snid = req.params.snid;\n\ttry {\n\t\tawait connectDB();\n\t\tif (!isObjectIdOrHexString(snid)) {\n\t\t\treturn res.status(400).json({ message: \"Invalid Social Network ID\" });\n\t\t}\n\t\tconst social_network = await SocialNetWork.findById(snid)\n\t\t\t.select(\"-__v -_id\")\n\t\t\t.populate(\"vtuber\", \"-_id fullname branch unit\");\n\t\tif (!social_network) return res.status(404).json({ message: \"Social Network not found\" });\n\t\treturn res.status(200).json(social_network);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\treturn res.status(500).json({ message: \"An error occurred in the query.\" });\n\t}\n});\n\nexport default social_routes;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,cAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,SAAA,GAAAJ,OAAA;AAEA,MAAMK,aAAa,GAAG,IAAAC,eAAM,EAAC,CAAC;AAE9BD,aAAa,CAACE,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1C,MAAM,IAAAC,iBAAS,EAAC,CAAC;EACjB,MAAMC,eAAe,GAAG,MAAMC,sBAAa,CAACC,IAAI,CAAC,CAAC,CAChDC,MAAM,CAAC,MAAM,CAAC,CACdC,QAAQ,CAAC,QAAQ,EAAE,2BAA2B,CAAC;EACjD,OAAON,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACN,eAAe,CAAC;AAC7C,CAAC,CAAC;AAEFN,aAAa,CAACE,GAAG,CAAC,QAAQ,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC/C,MAAMS,IAAI,GAAGV,GAAG,CAACW,MAAM,CAACD,IAAI;EAC5B,IAAI;IACH,MAAM,IAAAR,iBAAS,EAAC,CAAC;IACjB,IAAI,CAAC,IAAAU,+BAAqB,EAACF,IAAI,CAAC,EAAE;MACjC,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAA4B,CAAC,CAAC;IACtE;IACA,MAAMC,cAAc,GAAG,MAAMV,sBAAa,CAACW,QAAQ,CAACL,IAAI,CAAC,CACvDJ,MAAM,CAAC,WAAW,CAAC,CACnBC,QAAQ,CAAC,QAAQ,EAAE,2BAA2B,CAAC;IACjD,IAAI,CAACO,cAAc,EAAE,OAAOb,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEI,OAAO,EAAE;IAA2B,CAAC,CAAC;IACzF,OAAOZ,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACK,cAAc,CAAC;EAC5C,CAAC,CAAC,OAAOE,KAAK,EAAE;IACfC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAOf,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEI,OAAO,EAAE;IAAkC,CAAC,CAAC;EAC5E;AACD,CAAC,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEYvB,aAAa","ignoreList":[]}