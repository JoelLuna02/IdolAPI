{"version":3,"file":"hashtag.routes.js","names":["_express","require","_mongoose","_Hashtag","_interopRequireDefault","_database","hashtag_routes","Router","get","req","res","connectDB","hashtags","Hashtag","find","select","status","json","htid","params","isObjectIdOrHexString","message","vtuber","findById","populate","error","console","_default","exports","default"],"sources":["../../source/routes/hashtag.routes.js"],"sourcesContent":["import { Router } from \"express\";\nimport { isObjectIdOrHexString } from \"mongoose\";\nimport Hashtag from \"../models/Hashtag\";\nimport connectDB from \"../database\";\n\nconst hashtag_routes = Router();\n\nhashtag_routes.get(\"/\", async (req, res) => {\n\tawait connectDB();\n\tconst hashtags = await Hashtag.find().select(\"-__v -vtuber\");\n\treturn res.status(200).json(hashtags);\n});\n\nhashtag_routes.get(\"/:htid\", async (req, res) => {\n\tconst htid = req.params.htid;\n\ttry {\n\t\tawait connectDB();\n\t\tif (!isObjectIdOrHexString(htid)) {\n\t\t\treturn res.status(400).json({ message: \"Invalid Hashtag ID\" });\n\t\t}\n\t\tconst vtuber = await Hashtag.findById(htid)\n\t\t\t.select(\"-_id -__v\")\n\t\t\t.populate(\"vtuber\", \"-_id fullname fanname branch unit\");\n\t\tif (!vtuber) return res.status(404).json({ message: \"Hashtag not found\" });\n\t\treturn res.status(200).json(vtuber);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\treturn res.status(500).json({ message: \"An error occurred in the query.\" });\n\t}\n});\n\nexport default hashtag_routes;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,SAAA,GAAAD,sBAAA,CAAAH,OAAA;AAEA,MAAMK,cAAc,GAAG,IAAAC,eAAM,EAAC,CAAC;AAE/BD,cAAc,CAACE,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C,MAAM,IAAAC,iBAAS,EAAC,CAAC;EACjB,MAAMC,QAAQ,GAAG,MAAMC,gBAAO,CAACC,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,cAAc,CAAC;EAC5D,OAAOL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;AACtC,CAAC,CAAC;AAEFN,cAAc,CAACE,GAAG,CAAC,QAAQ,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAChD,MAAMQ,IAAI,GAAGT,GAAG,CAACU,MAAM,CAACD,IAAI;EAC5B,IAAI;IACH,MAAM,IAAAP,iBAAS,EAAC,CAAC;IACjB,IAAI,CAAC,IAAAS,+BAAqB,EAACF,IAAI,CAAC,EAAE;MACjC,OAAOR,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC/D;IACA,MAAMC,MAAM,GAAG,MAAMT,gBAAO,CAACU,QAAQ,CAACL,IAAI,CAAC,CACzCH,MAAM,CAAC,WAAW,CAAC,CACnBS,QAAQ,CAAC,QAAQ,EAAE,mCAAmC,CAAC;IACzD,IAAI,CAACF,MAAM,EAAE,OAAOZ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEI,OAAO,EAAE;IAAoB,CAAC,CAAC;IAC1E,OAAOX,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACK,MAAM,CAAC;EACpC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACfC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAOf,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEI,OAAO,EAAE;IAAkC,CAAC,CAAC;EAC5E;AACD,CAAC,CAAC;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEYvB,cAAc","ignoreList":[]}