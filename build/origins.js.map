{"version":3,"file":"origins.js","names":["_cors","_interopRequireDefault","require","AllowCORS","app","origins","use","cors","origin","callback","indexOf","msg","Error"],"sources":["../source/origins.js"],"sourcesContent":["import cors from \"cors\";\n\n/**\n * This feature allows CORS policies to be applied to certain web domains.\n * @param {import(\"express\").Express} app Express application instance\n * @param {string[]} origins List of allowed websites\n * @returns {Promise<void>}\n */\nexport function AllowCORS(app, origins) {\n\tapp.use(\n\t\tcors({\n\t\t\torigin: function (origin, callback) {\n\t\t\t\tif (!origin) return callback(null, true);\n\t\t\t\tif (origins.indexOf(origin) === -1) {\n\t\t\t\t\tlet msg = `Access to the Origin: ${origin}, is not permitted on this site.`;\n\t\t\t\t\treturn callback(new Error(msg), false);\n\t\t\t\t}\n\t\t\t\treturn callback(null, true);\n\t\t\t},\n\t\t}),\n\t);\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,SAASA,CAACC,GAAG,EAAEC,OAAO,EAAE;EACvCD,GAAG,CAACE,GAAG,CACN,IAAAC,aAAI,EAAC;IACJC,MAAM,EAAE,SAAAA,CAAUA,MAAM,EAAEC,QAAQ,EAAE;MACnC,IAAI,CAACD,MAAM,EAAE,OAAOC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC;MACxC,IAAIJ,OAAO,CAACK,OAAO,CAACF,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;QACnC,IAAIG,GAAG,GAAI,yBAAwBH,MAAO,kCAAiC;QAC3E,OAAOC,QAAQ,CAAC,IAAIG,KAAK,CAACD,GAAG,CAAC,EAAE,KAAK,CAAC;MACvC;MACA,OAAOF,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC;IAC5B;EACD,CAAC,CACF,CAAC;AACF","ignoreList":[]}